{% extends "layout.html" %}

{% block title %}
History
{% endblock %}

{% block main %}

<div class="mb-4 text-center">
    <h4 class="text-white">Transaction History</h4>
    <p class="text-muted">All your buy and sell transactions</p>
</div>

<div class="table-responsive">
    <table class="table table-dark table-hover align-middle text-light">
        <thead class="border-bottom border-secondary">
            <tr class="text-uppercase text-muted">
                <th class="text-start">Symbol</th>
                <th class="text-end">Shares</th>
                <th class="text-end">Price (₹)</th>
                <th class="text-end">Date & Time</th>
            </tr>
        </thead>

        <tbody>
            {% for row in data %}
            <tr>
                <td class="text-start fw-bold">{{ row.quote }}</td>

                {% if row.quantity > 0 %}
                    <td class="text-end text-success">
                        +{{ row.quantity }}
                    </td>
                {% else %}
                    <td class="text-end text-danger">
                        {{ row.quantity }}
                    </td>
                {% endif %}

                <td class="text-end">
                    ₹{{ "%.2f"|format(row.buyingprice) }}
                </td>

                <td class="text-end text-muted">
                    {{ row.ptime }}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
